<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="baidu-site-verification" content="093lY4ziMu" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="A hexo theme">
    <meta name="keyword"  content="saltyfishyjk, yjk, @saltyfishyjk, @yjk, saltyfishyjk&#39;s Blog">
    <link rel="shortcut icon" href="/img/x.ico">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!--<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>-->
    <title>
        
          「BUAA OO Pre」 Pre 2总结回顾概览 - saltyfishyjk
        
    </title>

    <link rel="canonical" href="https://saltyfishyjk.github.io/2022/02/26/「BUAA-OO-Pre」-Pre-2总结回顾概览/">

    <!-- Bootstrap Core CSS -->
    
<link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Custom CSS --> 
    
        
<link rel="stylesheet" href="/css/dusign-light.css">

        
<link rel="stylesheet" href="/css/dusign-common-light.css">

        
<link rel="stylesheet" href="/css/font-awesome.css">

        
<link rel="stylesheet" href="/css/toc.css">

        <!-- background effects end -->
    
    
    <!-- Pygments Highlight CSS -->
    
<link rel="stylesheet" href="/css/highlight.css">


    
<link rel="stylesheet" href="/css/widget.css">


    
<link rel="stylesheet" href="/css/rocket.css">


    
<link rel="stylesheet" href="/css/signature.css">


    
<link rel="stylesheet" href="/css/fonts.googleapis.css">


    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <!-- photography -->
    
<link rel="stylesheet" href="/css/photography.css">


    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="saltyfishyjk's Blog" type="application/atom+xml">
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- background effects start -->
    
    <!-- background effects end -->

	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            
                background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('../../../../img/default.jpg')
                /*post*/
            
        
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#BUAA-OO" title="BUAA-OO">BUAA-OO</a>
                            
                        </div>
                        <h1>「BUAA OO Pre」 Pre 2总结回顾概览</h1>
                        <h2 class="subheading"></h2>
                        <span class="meta">
                            Posted by saltyfishyjk on
                            2022-02-26
                        </span>

                        
                            <div class="blank_box"></div>
                            <span class="meta">
                                Words <span class="post-count">11.4k</span> and
                                Reading Time <span class="post-count">45</span> Minutes
                            </span>
                            <div class="blank_box"></div>
                            <!-- 不蒜子统计 start -->
                            <span class="meta">
                                Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
                            </span>
                            <!-- 不蒜子统计 end -->
                        

                    </div>
                

                </div>
            </div>
        </div>      
    </div>

    
    <div class="waveWrapper">
        <div class="wave wave_before" style="background-image: url('/img/wave-light.png')"></div>
        <div class="wave wave_after" style="background-image: url('/img/wave-light.png')"></div>
    </div>
    
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">saltyfishyjk&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                    
                    <li>
                        <a href="https://home.cnblogs.com/u/saltyfishyjk" target="_blank">Chinese Blog</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h1 id="「BUAA-OO-Pre」-Pre-2总结回顾概览"><a href="#「BUAA-OO-Pre」-Pre-2总结回顾概览" class="headerlink" title="「BUAA OO Pre」 Pre 2总结回顾概览"></a>「BUAA OO Pre」 Pre 2总结回顾概览</h1><h2 id="Part-0-前言"><a href="#Part-0-前言" class="headerlink" title="Part 0 前言"></a>Part 0 前言</h2><h3 id="写作背景"><a href="#写作背景" class="headerlink" title="写作背景"></a>写作背景</h3><p>笔者在完成寒假预习作业Pre2系列任务时遇到了一些挑战并有一些收获和心得，在这里记录和大家分享。</p>
<h3 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h3><p>基于本篇博客，您可以了解笔者在实现Pre2尤其是迭代开发中的心路历程及踩过的坑。</p>
<p>为了读者的阅读体验，本篇博客将按照<code>task顺序</code>展开。</p>
<p>为了博客的完整性和顺利展开，对于课程组guidebook中的题目要求部分将做引用，<strong>若有侵权请联系即刻删除相关内容</strong>。</p>
<h3 id="您可以在这里期望获得"><a href="#您可以在这里期望获得" class="headerlink" title="您可以在这里期望获得"></a>您可以在这里期望获得</h3><ol>
<li>笔者从做题者的视角的收获</li>
<li>笔者踩过的坑</li>
</ol>
<h3 id="您在这里无法期望获得"><a href="#您在这里无法期望获得" class="headerlink" title="您在这里无法期望获得"></a>您在这里无法期望获得</h3><ol>
<li>部分知识的深层原理</li>
</ol>
<h3 id="对读者前置知识的期望"><a href="#对读者前置知识的期望" class="headerlink" title="对读者前置知识的期望"></a>对读者前置知识的期望</h3><ol>
<li>完成《程序设计基础》&#x2F;《C语言程序设计》和《数据结构》课程</li>
<li>有一般学生C语言的水平</li>
<li>了解Java语言的基本语法，此部分知识可以通过各种在线资源获得</li>
</ol>
<h2 id="Part-1-Pre-2-task-1"><a href="#Part-1-Pre-2-task-1" class="headerlink" title="Part 1 Pre 2 task 1"></a>Part 1 Pre 2 task 1</h2><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>先介绍 pre2 练习的背景故事。</p>
<p>想象你是一个冒险者，现在正在一个新的星球上进行探险，这个过程中你需要通过努力收集各种物品来不断增强自身能力值，在第一个 task 中你需要对第一个基本物品 Bottle 进行建模。</p>
<p>经过之前的预习和上面的练习现在到了实战的时候了：构造一个 <strong>Bottle</strong> 类，来表示冒险者需要用到的瓶子类，要求 <strong>Bottle</strong> 类包含属性：ID，名字，价格，容量，和表达瓶子是否装满的标志量。相应的要求完成的程序可以查询瓶子的 ID，名字，价格，容量以及是否装满。</p>
<p>一开始给出一个瓶子。之后，有 7 种操作:（序号即为操作数）</p>
<ol>
<li>查询名字</li>
<li>查询价格</li>
<li>查询容量</li>
<li>查询是否装满</li>
<li>更改价格</li>
<li>设置是否装满</li>
<li>输出瓶子描述字符串</li>
</ol>
<h4 id="输入-输出格式"><a href="#输入-输出格式" class="headerlink" title="输入&#x2F;输出格式"></a>输入&#x2F;输出格式</h4><p>第一行给出 整数 <code>id</code> （取值范围为<code>0-2147483647</code>），字符串 <code>name</code> ，长整数 <code>price</code> 、浮点数 <code>capacity</code> 分别表示瓶子ID，名字，价格，容量，以空格分隔。<br>第二行一个数 $m$，表示待输入的操作数目。<br></p>
<p>接下来 $m$​ 行，每行一个操作，输入的操作以<code>&#123;type&#125; &#123;attribute&#125;</code>的形式来描述，具体内容如下：</p>
<table>
<thead>
<tr>
<th>type</th>
<th>attribute</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>1&#x2F;2&#x2F;3&#x2F;4</td>
<td>无</td>
<td>打印名字&#x2F;价格&#x2F;容量&#x2F;是否装满（每个瓶子在创建之后<strong>默认最开始是装满的</strong>）</td>
</tr>
<tr>
<td>5</td>
<td><code>&#123;price&#125;</code></td>
<td>更改价格为 <code>&#123;price&#125;</code></td>
</tr>
<tr>
<td>6</td>
<td><code>&#123;filled&#125;</code></td>
<td>更改瓶子装满的状态为 <code>&#123;filled&#125;</code></td>
</tr>
<tr>
<td>7</td>
<td>无</td>
<td>以<code>The bottle&#39;s id is &#123;id&#125;, name is &#123;name&#125;, capacity is &#123;capacity&#125;, filled is &#123;filled&#125;.</code>的形式打印状态。</td>
</tr>
</tbody></table>
<p><strong>建议在 <code>Bottle</code> 类中定义 <code>toString</code> 方法，返回描述字符串，在主类的 <code>main</code> 方法中调用 <code>Bottle</code> 对象的 <code>toString</code> 方法来打印。</strong></p>
<h4 id="数据范围与操作限制"><a href="#数据范围与操作限制" class="headerlink" title="数据范围与操作限制"></a>数据范围与操作限制</h4><h5 id="变量约束"><a href="#变量约束" class="headerlink" title="变量约束"></a>变量约束</h5><table>
<thead>
<tr>
<th>变量</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>整数</td>
<td>取值范围：0 - 2147483647</td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td>保证不会出现空白字符</td>
</tr>
<tr>
<td>price</td>
<td>长整数</td>
<td>在 long 精度范围内</td>
</tr>
<tr>
<td>capacity</td>
<td>浮点数</td>
<td>在 double 精度范围内</td>
</tr>
</tbody></table>
<h5 id="操作约束"><a href="#操作约束" class="headerlink" title="操作约束"></a>操作约束</h5><ul>
<li>操作数满足 $1 \leq m \leq 2000$​。</li>
</ul>
<h4 id="测评方法"><a href="#测评方法" class="headerlink" title="测评方法"></a>测评方法</h4><p>输出数值时，你的输出数值需要和正确数值相等。</p>
<p><strong>假设你的输出值 $x_{out}$ 和正确数值 $x_{std}$ 之间的绝对或相对误差小于等于  $10 ^ {-5}$，则认为是相等的，即满足</strong></p>
<p>$$<br>\dfrac {|x_{std} - x_{out}|}{\max(1, |x_{std}|)} \leq 10^{-5}<br>$$</p>
<h4 id="输入样例"><a href="#输入样例" class="headerlink" title="输入样例"></a>输入样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">12345667 water 20 100</span><br><span class="line">8</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5 30</span><br><span class="line">6 true</span><br><span class="line">7</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<h4 id="输出样例"><a href="#输出样例" class="headerlink" title="输出样例"></a>输出样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">water</span><br><span class="line">20</span><br><span class="line">100.0</span><br><span class="line">true</span><br><span class="line">The bottle&#x27;s id is 12345667, name is water, capacity is 100.0, filled is true.</span><br><span class="line">30</span><br></pre></td></tr></table></figure>

<h4 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h4><p>下面简单介绍 pre2 系列任务的迭代形式：</p>
<p>从 <em><strong>Task1</strong></em> 到 <em><strong>Task3</strong></em> ，逐步引导同学们实现一系列基础的类，并且熟悉类、属性和方法的使用，引导大家向面向对象的思维方式转变。</p>
<p><em><strong>Task4</strong></em> 涉及方法的重写和复用，并引入异常处理机制，希望同学们可以感性地体会到层次化设计的好处，了解并简单应用异常处理（异常处理在之后也常会用到）。</p>
<p><em><strong>Task5</strong></em> 涉及接口，需要同学们在之前 Task 的基础上完成更加复杂的操作。如果此时仍然使用原来的编码习惯，会在这个 Task 中遇到巨大困难，而严格按照我们的提示去做的同学会体会到好处。</p>
<p>强烈建议<em><strong>按照从 Task1～Task5 的顺序完成 pre2 的练习</strong></em>，思考如何进行增量迭代和持续重构，而不要在实现每一个 Task 时都完成一份新的代码。</p>
<h3 id="值得注意的点"><a href="#值得注意的点" class="headerlink" title="值得注意的点"></a>值得注意的点</h3><ol>
<li>读者应当先按照pre1中工具链相关介绍完整正确配置好所有相关配置，特别是IDEA的checkstyle及new file settings等，磨刀不误砍柴工。</li>
<li>建议每一个类（class）都新建一个<code>.java</code>文件，一方面保证高内聚低耦合，另一方面使得结构层次清晰。</li>
<li>站在Pre 2 task 5的视角来看，从这里开始就应当逐渐学习并掌握<strong>静态方法</strong>和<strong>静态变量</strong>的书写方式，以在未来更复杂的输入情况中依然可以遵守checkstyle要求的类行数不超过60的要求。</li>
<li>时刻记得checkstyle，以保证代码风格符合规范。</li>
<li>使用<code>package</code>管理当前作业的文件。</li>
<li><code>commit</code>到课程仓库的只需要所有<code>.java</code>文件，不需要其他文件。</li>
</ol>
<hr>
<h2 id="Part-2-Pre-2-task-2"><a href="#Part-2-Pre-2-task-2" class="headerlink" title="Part 2 Pre 2 task 2"></a>Part 2 Pre 2 task 2</h2><h3 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h3><h4 id="基本要求"><a href="#基本要求" class="headerlink" title="基本要求"></a>基本要求</h4><ul>
<li>建立冒险者类，且符合封装的要求</li>
<li>使用适当的容器管理多个冒险者实例</li>
</ul>
<h4 id="描述-1"><a href="#描述-1" class="headerlink" title="描述"></a>描述</h4><p>在这个问题中，你需要管理多个冒险者。初始时，你没有需要管理的冒险者。接下来会有 $m$ 个操作：</p>
<ol>
<li>加入一个需要管理的冒险者</li>
<li>给某个冒险者增加一个瓶子</li>
<li>删除某个冒险者的一个瓶子</li>
<li>查询某个冒险者所持有瓶子的价格之和</li>
<li>查询某个冒险者所持有瓶子价格的最大值</li>
</ol>
<p>你需要对操作 4、5 进行回答。</p>
<hr>
<h4 id="输入-输出格式-1"><a href="#输入-输出格式-1" class="headerlink" title="输入&#x2F;输出格式"></a>输入&#x2F;输出格式</h4><p>第一行一个整数 $m$，表示操作的个数。</p>
<p>接下来的 $m$ 行，每行一个形如 <code>&#123;type&#125; &#123;attribute&#125;</code> 的操作，操作输入形式及其含义如下：</p>
<table>
<thead>
<tr>
<th align="center">type</th>
<th align="center">attribute</th>
<th align="center">意义</th>
<th>输出文本</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>&#123;adv_id&#125; &#123;name&#125;</code></td>
<td align="center">加入一个 ID 为 <code>&#123;adv_id&#125;</code>、名字为 <code>&#123;name&#125;</code> 的冒险者，且未持有任何瓶子</td>
<td>无</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>&#123;adv_id&#125; &#123;bot_id&#125; &#123;name&#125; &#123;price&#125; &#123;capacity&#125;</code></td>
<td align="center">给 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者增加一个瓶子，瓶子的 ID、名字、价格、容量分别为 <code>&#123;bot_id&#125;</code>、<code>&#123;name&#125;</code>、<code>&#123;price&#125;</code>、<code>&#123;capacity&#125;</code>，<strong>且默认为已装满</strong></td>
<td>无</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>&#123;adv_id&#125; &#123;bot_id&#125;</code></td>
<td align="center">将 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者的 id 为 <code>&#123;bot_id&#125;</code> 的瓶子删除</td>
<td>无</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"><code>&#123;adv_id&#125;</code></td>
<td align="center">查询 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者所持有瓶子的价格之和</td>
<td>一个整数，表示瓶子价格之和</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"><code>&#123;adv_id&#125;</code></td>
<td align="center">查询 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者所持有瓶子价格的最大值</td>
<td>一个整数，表示瓶子价格的最大值</td>
</tr>
</tbody></table>
<h4 id="数据范围与操作限制-1"><a href="#数据范围与操作限制-1" class="headerlink" title="数据范围与操作限制"></a>数据范围与操作限制</h4><h5 id="变量约束-1"><a href="#变量约束-1" class="headerlink" title="变量约束"></a>变量约束</h5><table>
<thead>
<tr>
<th>变量</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id (adv_id, bot_id)</td>
<td>整数</td>
<td>取值范围：0 - 2147483647</td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td>保证不会出现空白字符</td>
</tr>
<tr>
<td>price</td>
<td>长整数</td>
<td>在 long 精度范围内</td>
</tr>
<tr>
<td>capacity</td>
<td>浮点数</td>
<td>在 double 精度范围内</td>
</tr>
</tbody></table>
<h5 id="操作约束-1"><a href="#操作约束-1" class="headerlink" title="操作约束"></a>操作约束</h5><ul>
<li>操作数满足 $1 \leq m \leq 2000$​。</li>
<li>保证所有冒险者与瓶子的 ID 两两不同。</li>
<li>操作 1：不会加入与已有冒险者和瓶子 ID 相同 ID 的新冒险者。</li>
<li>操作 2：冒险者 ID 一定存在，且新瓶子的 ID 与当前所有冒险者和瓶子的 ID 均不相同。</li>
<li>操作 3：冒险者 ID 一定存在，且冒险者一定持有该 ID 的瓶子。</li>
<li>操作 4：冒险者 ID 一定存在，若冒险者不持有任何瓶子，则输出 0。</li>
<li>操作 5：冒险者 ID 一定存在，且冒险者一定持有至少一个瓶子。</li>
</ul>
<h4 id="测评方法-1"><a href="#测评方法-1" class="headerlink" title="测评方法"></a>测评方法</h4><p>输出数值时，你的输出数值需要和正确数值相等。</p>
<p><strong>假设你的输出值 $x_{out}$ 和正确数值 $x_{std}$ 之间的绝对或相对误差小于等于  $10 ^ {-5}$，则认为是相等的，即满足</strong><br>$$<br>\dfrac {|x_{std} - x_{out}|}{\max(1, |x_{std}|)} \leq 10^{-5}<br>$$</p>
<h4 id="输入样例-1"><a href="#输入样例-1" class="headerlink" title="输入样例"></a>输入样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">1 1 Person1</span><br><span class="line">2 1 2 bottle1 10 5</span><br><span class="line">2 1 3 bottle2 15 12</span><br><span class="line">4 1</span><br><span class="line">5 1</span><br><span class="line">3 1 2</span><br><span class="line">4 1</span><br></pre></td></tr></table></figure>

<h4 id="输出样例-1"><a href="#输出样例-1" class="headerlink" title="输出样例"></a>输出样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">25</span><br><span class="line">15</span><br><span class="line">15</span><br></pre></td></tr></table></figure>

<h4 id="提示-1"><a href="#提示-1" class="headerlink" title="提示"></a>提示</h4><p>建立一个对象的集合，实现向集合中增加对象和访问集合中对象的操作，学习容器的使用和选择。</p>
<p>熟悉对容器的操作，题目中限制了所有对象（冒险者、瓶子）的 ID 不会相同，思考一下，哪种容器会更加适合本次任务？或者说哪些容器呢？</p>
<p>在本次作业中我们有求和操作，尽管我们将输入数据限制在 long 的范围内，但是在求和时可能会超出精度范围。请你查阅 Java 相关资料，来看看在 Java 中是如何解决超过普通数据类型数据范围的精度问题的。</p>
<p>Java 中有些特别的类用于处理大数运算，如 <code>BigInteger</code>，<code>BigDecimal</code>。</p>
<hr>
<h3 id="值得注意的点-1"><a href="#值得注意的点-1" class="headerlink" title="值得注意的点"></a>值得注意的点</h3><ol>
<li><p>了解<code>BigInteger</code>相关知识并应用，这将在下面的<strong>扩展知识</strong>进行部分介绍。</p>
</li>
<li><p>了解Java中的一种遍历方式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (Bottle bottle : bottles) &#123;</span><br><span class="line">	max = Math.max(bottle.getPrice(),max);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>该遍历方式可以便捷遍历如<code>ArrayList</code>等容器内的所有对象，优于C语言中按索引遍历的方式，尤其是我们不关心容器内对象的索引的时候。对于各种容器的使用，可以首先参考<a href="https://www.runoob.com/java/java-arraylist.html">Java ArrayList - 菜鸟教程</a>，了解<code>ArrayList</code>基本用法后迁移知识到其他容器如<code>HashMap</code>等。</p>
</li>
</ol>
<hr>
<h3 id="扩展知识"><a href="#扩展知识" class="headerlink" title="扩展知识"></a>扩展知识</h3><h4 id="BigInteger"><a href="#BigInteger" class="headerlink" title="BigInteger"></a>BigInteger</h4><h5 id="主要的构造方法"><a href="#主要的构造方法" class="headerlink" title="主要的构造方法"></a>主要的构造方法</h5><p><code>BigInteger(String val)</code> 使用举例：<code>BigInteger eg = new BigInteger(&quot;100&quot;);</code></p>
<h5 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h5><ol>
<li><p>加减乘除：</p>
<p>加法：<code>BigInteger add(BigInteger val)</code> </p>
<p>减法：<code>BigInteger subtract(BigInteger val)</code></p>
<p>乘法：<code>BigInteger multiply(BigInteger val)</code></p>
<p>除法：<code>BigInteger divide(BigInteger val)</code></p>
</li>
<li><p>获得两个<code>BigInteger</code>中的最大&#x2F;最小值</p>
<p>最大值：<code>BigInteger max(BigInteger val)</code></p>
<p>最小值：<code>BigInteger min(Biginteger val)</code></p>
</li>
<li><p>获得（长）整型（<code>long</code>）的<code>BigInteger</code>对象</p>
<p><code>static BigInteger valueOf(long value)</code></p>
</li>
</ol>
<hr>
<h2 id="Part-3-Pre-2-task-3"><a href="#Part-3-Pre-2-task-3" class="headerlink" title="Part 3 Pre 2 task 3"></a>Part 3 Pre 2 task 3</h2><h3 id="题目-2"><a href="#题目-2" class="headerlink" title="题目"></a>题目</h3><h4 id="基本要求-1"><a href="#基本要求-1" class="headerlink" title="基本要求"></a>基本要求</h4><ul>
<li>建立类 Equipment，所有的装备均继承自这个类（该类因而可称为基类, base class），请将所有装备都具有的属性定义在这个类里。</li>
<li>建立 Bottle 类与 Sword 类，应当满足<ul>
<li>符合某种继承关系</li>
<li>具备信息查询方法</li>
</ul>
</li>
<li>实现各项装备的查询和增删指令</li>
</ul>
<p>具体实现细节将在“题目描述”中展开</p>
<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p>现在我们将在上一个任务的基础上对 Bottle 进行细分，并添加新的“武器类”——Sword</p>
<table>
<thead>
<tr>
<th>药水类型</th>
<th>属性</th>
<th>属性类型</th>
</tr>
</thead>
<tbody><tr>
<td>HealingPotion</td>
<td>包括 Bottle 的全部属性，新增加属性 efficiency，代表药水的治疗效果</td>
<td>Bottle 原有属性不变，efficiency 为浮点数类型</td>
</tr>
<tr>
<td>ExpBottle</td>
<td>包括 Bottle 的全部属性，新增加属性 expRatio，代表水瓶对于经验值的增强效果</td>
<td>Bottle 原有属性不变，expRatio为浮点数类型</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>武器类型</th>
<th>属性</th>
<th>属性类型</th>
</tr>
</thead>
<tbody><tr>
<td>Sword</td>
<td>sharpness，表示武器的锋利程度</td>
<td>sharpness 为浮点数类型</td>
</tr>
<tr>
<td>RareSword</td>
<td>包括 Sword 的全部属性，新增加属性 extraExpBonus，代表使用武器的附加效果</td>
<td>Sword 原有属性不变，extraExpBonus 为浮点数类型</td>
</tr>
<tr>
<td>EpicSword</td>
<td>包括 Sword 的全部属性，新增加属性 evolveRatio，代表使用武器的附加效果</td>
<td>Sword 原有属性不变，evolveRatio 为浮点数类型</td>
</tr>
</tbody></table>
<p>将有以下操作：</p>
<ol>
<li>加入一个冒险者</li>
<li>给某个冒险者添加某件装备（装备包括药水和武器）</li>
<li>删除某个冒险者拥有的某个装备</li>
<li>查询某个冒险者所拥有装备的价格之和</li>
<li>查询某个冒险者所拥有装备的价格最大值</li>
<li>查询某个冒险者拥有的装备总数</li>
<li>打印一个装备的全部属性，属性的输出顺序与输入创建该装备时给定的各参数顺序一致，具体格式详见下方<code>属性打印方式</code></li>
</ol>
<h4 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h4><p>第一行一个整数 $m$，表示操作的个数。</p>
<p>接下来的 $m$ 行，每行一个形如 <code>&#123;type&#125; &#123;attribute&#125;</code> 的操作，操作输入形式及其含义如下：</p>
<table>
<thead>
<tr>
<th>type</th>
<th>attribute</th>
<th>意义</th>
<th>输出文本</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>&#123;adv_id&#125; &#123;name&#125;</code></td>
<td>加入一个 ID 为 <code>&#123;adv_id&#125;</code>、名字为 <code>&#123;name&#125;</code> 的冒险者，且未持有任何装备</td>
<td>无</td>
</tr>
<tr>
<td>2</td>
<td><code>&#123;adv_id&#125; &#123;equipment_type&#125; &#123;vars&#125;（equipment_type和vars的含义见下表）</code></td>
<td>给予某个人某件装备，装备类型由 <code>&#123;equipment_type&#125;</code> 定义，属性由 <code>&#123;vars&#125;</code> 定义，<strong>所有的瓶子初始默认装满</strong></td>
<td>无</td>
</tr>
<tr>
<td>3</td>
<td><code>&#123;adv_id&#125; &#123;equipment_id&#125;</code></td>
<td>删除 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者的 ID 为 <code>&#123;equipment_id&#125;</code> 的装备</td>
<td>无</td>
</tr>
<tr>
<td>4</td>
<td><code>&#123;adv_id&#125;</code></td>
<td>查询 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者所持有装备的价格之和</td>
<td>一个整数，表示该冒险者所有装备的价格总和</td>
</tr>
<tr>
<td>5</td>
<td><code>&#123;adv_id&#125;</code></td>
<td>查询 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者所持有装备价格的最大值</td>
<td>一个整数，表示该冒险者所有装备价格的最大值</td>
</tr>
<tr>
<td>6</td>
<td><code>&#123;adv_id&#125;</code></td>
<td>查询 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者的装备总数</td>
<td>一个整数，表示该冒险者所有装备的数量之和</td>
</tr>
<tr>
<td>7</td>
<td><code>&#123;adv_id&#125; &#123;equipment_id&#125;</code></td>
<td>打印 ID 为 <code>&#123;equipment_id&#125;</code> 的装备的全部属性</td>
<td>该装备的全部属性，格式见下文“属性打印方式”</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>装备类型</th>
<th>equipment_type</th>
<th>vars</th>
</tr>
</thead>
<tbody><tr>
<td>Bottle</td>
<td>1</td>
<td>id name price capacity</td>
</tr>
<tr>
<td>HealingPotion</td>
<td>2</td>
<td>id name price capacity efficiency</td>
</tr>
<tr>
<td>ExpBottle</td>
<td>3</td>
<td>id name price capacity expRatio</td>
</tr>
<tr>
<td>Sword</td>
<td>4</td>
<td>id name price sharpness</td>
</tr>
<tr>
<td>RareSword</td>
<td>5</td>
<td>id name price sharpness extraExpBonus</td>
</tr>
<tr>
<td>EpicSword</td>
<td>6</td>
<td>id name price sharpness evolveRatio</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>装备类型</th>
<th>属性打印方式</th>
</tr>
</thead>
<tbody><tr>
<td>Bottle</td>
<td>The bottle’s id is {id}, name is {name}, capacity is {capacity}, filled is {filled}.</td>
</tr>
<tr>
<td>HealingPotion</td>
<td>The healingPotion’s id is {id}, name is {name}, capacity is {capacity}, filled is {filled}, efficiency is {efficiency}.</td>
</tr>
<tr>
<td>ExpBottle</td>
<td>The expBottle’s id is {id}, name is {name}, capacity is {capacity}, filled is {filled}, expRatio is {expRatio}.</td>
</tr>
<tr>
<td>Sword</td>
<td>The sword’s id is {id}, name is {name}, sharpness is {sharpness}.</td>
</tr>
<tr>
<td>RareSword</td>
<td>The rareSword’s id is {id}, name is {name}, sharpness is {sharpness}, extraExpBonus is {extraExpBonus}.</td>
</tr>
<tr>
<td>EpicSword</td>
<td>The epicSword’s id is {id}, name is {name}, sharpness is {sharpness}, evolveRatio is {evolveRatio}.</td>
</tr>
</tbody></table>
<h4 id="数据范围与操作限制-2"><a href="#数据范围与操作限制-2" class="headerlink" title="数据范围与操作限制"></a>数据范围与操作限制</h4><h5 id="变量约束-2"><a href="#变量约束-2" class="headerlink" title="变量约束"></a>变量约束</h5><table>
<thead>
<tr>
<th>变量</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>整数</td>
<td>取值范围：0 - 2147483647</td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td>保证不会出现空白字符</td>
</tr>
<tr>
<td>price</td>
<td>长整数</td>
<td>在 long 精度范围内</td>
</tr>
<tr>
<td>capacity, efficiency, expRatio, sharpness, extraExpBonus, evolveRatio</td>
<td>浮点数</td>
<td>在 double 精度范围内</td>
</tr>
</tbody></table>
<h5 id="操作约束-2"><a href="#操作约束-2" class="headerlink" title="操作约束"></a>操作约束</h5><ul>
<li>操作数满足 $1 \leq m \leq 2000$​。</li>
<li>保证所有冒险者与装备的 ID 两两不同。</li>
<li>操作 1：不会加入与已有冒险者和装备 ID 相同 ID 的新冒险者。</li>
<li>操作 2：冒险者 ID 一定存在，且新装备的 ID 与当前所有冒险者和装备的 ID 均不相同。</li>
<li>操作 3：冒险者 ID 一定存在，且冒险者一定持有该 ID 的装备。</li>
<li>操作 4：冒险者 ID 一定存在，若冒险者不持有任何装备，则输出 0。</li>
<li>操作 5：冒险者 ID 一定存在，且冒险者一定持有至少一个装备。</li>
<li>操作 6：冒险者 ID 一定存在，若冒险者不持有任何装备，则输出 0。</li>
<li>操作 7：冒险者 ID 一定存在，且冒险者一定持有该 ID 的装备。</li>
</ul>
<h4 id="测评方法-2"><a href="#测评方法-2" class="headerlink" title="测评方法"></a>测评方法</h4><p>输出数值时，你的输出数值需要和正确数值相等。</p>
<p><strong>假设你的输出值 $x_{out}$ 和正确数值 $x_{std}$ 之间的绝对或相对误差小于等于  $10 ^ {-5}$，则认为是相等的，即满足</strong></p>
<p>$$<br>\dfrac {|x_{std} - x_{out}|}{\max(1, |x_{std}|)} \leq 10^{-5}<br>$$</p>
<h4 id="输入样例-2"><a href="#输入样例-2" class="headerlink" title="输入样例"></a>输入样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">9</span><br><span class="line">1 1 Person1</span><br><span class="line">1 2 Person2</span><br><span class="line">2 1 1 3 bottle1 10 5</span><br><span class="line">2 1 6 4 sword1 20 7 0.6</span><br><span class="line">2 2 3 5 bottle2 15 3 8</span><br><span class="line">6 1</span><br><span class="line">7 2 5</span><br><span class="line">3 1 3</span><br><span class="line">5 1</span><br></pre></td></tr></table></figure>

<h4 id="输出样例-2"><a href="#输出样例-2" class="headerlink" title="输出样例"></a>输出样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">The expBottle&#x27;s id is 5, name is bottle2, capacity is 3.0, filled is true, expRatio is 8.0.</span><br><span class="line">20</span><br></pre></td></tr></table></figure>

<h4 id="补充材料"><a href="#补充材料" class="headerlink" title="补充材料"></a>补充材料</h4><ol>
<li><p>请思考，本次作业中的<strong>求和</strong>操作等是否会出现超出数据限制的情况。</p>
<p>提示：Java 中有特别的类：<code>BigInteger</code> 和 <code>BigDecimal</code> 。</p>
</li>
<li><p><strong>设计模式</strong>是软件开发人员经过相当长的实践总结出来的最佳设计方案，在面向对象设计与构造课程中，你将逐步了解和掌握几种基本的设计模式，包括工厂模式、单例模式、生产者-消费者模式等。</p>
<p>现在，希望大家可以了解<strong>工厂模式</strong>，这是在继承和接口实现中常用的设计模式。</p>
<p>大家可以参考<a href="https://www.runoob.com/design-pattern/factory-pattern.html">链接</a>中的介绍，也可以自行查阅资料。这将帮助你更轻松的完成日后的作业 :)</p>
</li>
</ol>
<h3 id="值得注意的点-2"><a href="#值得注意的点-2" class="headerlink" title="值得注意的点"></a>值得注意的点</h3><ol>
<li>IDEA去掉空白快捷键：<code>Ctrl + Shift + J</code>；格式化代码：<code>Ctrl + Alt + L</code>。</li>
<li>子类继承父类：<code>extends</code>关键字。</li>
<li><code>ArrayList</code>和<code>HashMap</code>主要使用特点和区别，这将在下面的<strong>扩展知识</strong>具体介绍。</li>
<li>继承中的向上转型、向下转型与方法重写，这将在下面的<strong>扩展知识</strong>具体介绍。</li>
</ol>
<h4 id="扩展知识-1"><a href="#扩展知识-1" class="headerlink" title="扩展知识"></a>扩展知识</h4><h5 id="ArrayList和HashMap基础用法对比"><a href="#ArrayList和HashMap基础用法对比" class="headerlink" title="ArrayList和HashMap基础用法对比"></a><code>ArrayList</code>和<code>HashMap</code>基础用法对比</h5><table>
<thead>
<tr>
<th></th>
<th><code>ArrayList</code></th>
<th><code>HashMap</code></th>
</tr>
</thead>
<tbody><tr>
<td>构造方法</td>
<td><code>ArrayList&lt;E&gt; objectName =new ArrayList&lt;&gt;();</code>其中<code>E</code>是泛型数据类悉尼港，用于设置objectName数据类型，只能为引用数据类型，若是基本数据类型需要使用其包装类，如<code>int</code>-&gt;<code>Integer</code></td>
<td><code>HashMap&lt;Integer, String&gt; Sites = new HashMap&lt;Integer, String&gt;();</code>其中键值对类型可以相同或不同</td>
</tr>
<tr>
<td>添加元素</td>
<td><code>boolean add(E e) </code></td>
<td><code>V put(K key, V value)</code></td>
</tr>
<tr>
<td>删除元素</td>
<td><code>boolean remove(Object o)</code><br><code>boolean removeIf(Predicate&lt;? super E? filter)</code></td>
<td><code>V remove(Object key)</code></td>
</tr>
<tr>
<td>获取容器容量</td>
<td><code>int size()</code></td>
<td><code>int size()</code></td>
</tr>
<tr>
<td>获取特定元素</td>
<td><code>E get(int index)</code></td>
<td><code>V get(Object key)</code></td>
</tr>
</tbody></table>
<p>对于更细致的用法和特性，可以参考<a href="https://www.runoob.com/java/java-arraylist.html">Java ArrayList</a>和<a href="https://www.runoob.com/java/java-hashmap.html">Java HashMap</a>。</p>
<p>由以上对比可以看到，<code>HashMap</code>具有可以根据<code>key</code>值随机访问和删除的功能，而<code>ArrayList</code>在这方面的支持是按照索引访问，即类似数组下标。根据本task要求可以知道，冒险者拥有的物品的<code>id</code>是我们关心的，我们并不关心其在列表中的索引下标，因此，使用<code>HashMap</code>是一种更优越的选择。</p>
<p>对于遍历操作，<code>ArrayList</code>支持直接使用类似如下格式，可以直接遍历每个对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (Bottle bottle : bottles) &#123;</span><br><span class="line">    <span class="comment">/* body */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>HashMap</code>则支持对<code>key</code>值遍历，在此过程中可以通过<code>get</code>方法访问每一个<code>key</code>对应的对象，也做到了遍历：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (Integer i : valueEntityHashMap.keySet()) &#123;</span><br><span class="line">    sum = sum.add(valueEntityHashMap.get(i).getPrice());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="向上转型、向下转型和方法重写"><a href="#向上转型、向下转型和方法重写" class="headerlink" title="向上转型、向下转型和方法重写"></a>向上转型、向下转型和方法重写</h5><p><strong>向上转型</strong>：可以使用<strong>父类型</strong>去引用通过<strong>子类型</strong>创建的对象，此时程序设计者只关心父类型层次可以看到的方法，因此只能调用父类型所声明的方法。</p>
<p>如果该引用转型前和转型后所属的类型都声明了同样原型的方法，那么访问哪个方法体就会涉及<strong>方法查找</strong>的问题，一句话说明即：<strong>从对象创建时的类开始，沿类层次向上查找</strong>。</p>
<p>上述的两个特征为我们实现此task及后来的task提供了一种方法和思路：对于冒险者对象而言，其要管理其名下的诸多<code>Equipment</code>（到task5还会涉及到<code>ValueEntity</code>等），但是创建对象时又很纷繁，如<code>Bottle</code>类、<code>Sword</code>类等，如果对每个具体的子类都创建<code>ArrayList</code>或者<code>HashMap</code>进行管理，显然极大增加了复杂度，降低了可维护性和可拓展性。</p>
<p>考虑到上述方案的缺陷，同时考虑到Java向上转型及方法查找的特点，我们可以建立一个<code>ArrayList</code>或者<code>HashMap</code>容器，其保存对象（或<code>Value</code>）为<code>Equipment</code>，这样既可以方便统一管理，又可以正确调用对象的方法。值得一提的是，该方案可行离不开题目中要求输出的均为可在父类<code>Equipment</code>中声明的方法及每个对象的<code>id</code>都不同而可以作为<code>key</code>这两个题目条件。</p>
<p><strong>向下转型</strong>：如果对父类型引用直接调用子类型对象特有的方法，则在编译阶段即被认为是错误，因为我们的设计想要的就是在父类型引用阶段就使用当前视角。如果我们有一个指向实际存在对象的有效引用，同时知道指向的对象的创建类型是其引用类型的子类，而且我们想调用子类特有的方法（父类不存在），这时Java提供了关键词<code>instanceof</code>以判断对象引用所指向的对象的创建类型是否是某个特定的类，一般写为<code>obj instanceof A</code>，其中<code>obj</code>为对象引用，<code>A</code>为一个类型（类或接口），该式值为<code>boolean</code>，若<code>obj</code>创建类型为<code>A</code>，则为<code>true</code>，反之则为<code>false</code>。在该表达式值为<code>true</code>时，可以使用向下转型来用一个<code>A</code>类型的对象来引用<code>obj</code>：<code>A ao = (A)obj</code>。值得注意的是，在上述过程中<code>obj</code>的创建类型一直没有变化，进行转型的中只是对象引用类型。</p>
<p><strong>方法重写</strong>：在<strong>向上转型</strong>部分中我们提到了，父类型引用可以指向父类型的子类对象，同时这个引用可以调用父类型声明的共有的方法，并且具体访问的哪个方法体会涉及到<strong>方法查找</strong>，这就引出了<strong>方法重写</strong>的问题。</p>
<p>方法重写，即在子类中对父类声明过的方法重新书写，在IDEA中进行该操作时，会自动在重写方法上方补充一行<code>@override</code>，其作用有两个：一个是本身为伪代码，表示该方法为重写；另一个是编译器可以验证<code>@Override</code>下面的方法名称是否是父类所有的，如果没有就会报错。</p>
<h2 id="Part-4-Pre-2-task-4"><a href="#Part-4-Pre-2-task-4" class="headerlink" title="Part 4 Pre 2 task 4"></a>Part 4 Pre 2 task 4</h2><h3 id="题目-3"><a href="#题目-3" class="headerlink" title="题目"></a>题目</h3><h4 id="描述-2"><a href="#描述-2" class="headerlink" title="描述"></a>描述</h4><ul>
<li>冒险者除了具有 id, 姓名 name, 拥有的装备 equipment 等状态外，还增加了另外的一些属性：生命值 （<code>health</code>, 浮点数，默认值 100.0）、经验值（ <code>exp</code>, 浮点数，默认 0.0）、金钱数（ <code>money</code>, 浮点数，默认 0.0）。</li>
<li>每一种装备都有一个<strong>使用</strong>方法，定义如下，设冒险者A使用了装备B：</li>
</ul>
<table>
<thead>
<tr>
<th>装备B的类型</th>
<th>使用效果</th>
<th>输出文本</th>
</tr>
</thead>
<tbody><tr>
<td>Bottle（若 filled 为 true）</td>
<td>A的生命值增加[B的 capacity 属性]的十分之一，之后 B 的 filled 变为 false，price 变为原来的十分之一（向下取整）。</td>
<td>{A 的 name} drank {B 的 name} and recovered {生命值增加量}.</td>
</tr>
<tr>
<td>HealingPotion（若 filled为true）</td>
<td>A的生命值增加[B的 capacity 属性]的十分之一，之后 B 的 filled 变为 false，price 变为原来的十分之一（向下取整）。然后A的生命值再额外增加[B的capacity属性]乘以[B的efficiency属性]的量。</td>
<td>{A 的 name} drank {B 的 name} and recovered {生命值增加量}.<br />{A 的 name} recovered extra {生命值额外增加量}.</td>
</tr>
<tr>
<td>ExpBottle（若 filled 为 true）</td>
<td>A的生命值增加[B的 capacity 属性]的十分之一，之后 B 的 filled 变为 false，price 变为原来的十分之一（向下取整）。然后A的经验值变为原来的[B的expRatio属性]倍。</td>
<td>{A 的 name} drank {B 的 name} and recovered {生命值增加量}.<br />{A 的 name}’s exp became {A 变化后的经验}.</td>
</tr>
<tr>
<td>Bottle&#x2F;HealingPotion&#x2F;ExpBottle（若filled为false）</td>
<td>无任何作用效果。</td>
<td>Failed to use {B 的 name} because it is empty.</td>
</tr>
<tr>
<td>Sword</td>
<td>使用后A的生命值减少 10.0、经验值增加 10.0，金钱数增加相当于[B 的 sharpness属性]一倍的量。</td>
<td>{A 的 name} used {B 的 name} and earned {增加的金钱数}.</td>
</tr>
<tr>
<td>RareSword</td>
<td>使用后A的生命值减少 10.0、经验值增加 10.0，金钱数增加相当于[B 的 sharpness属性]一倍的量。然后 A 的经验值额外增加[B 的 extraExpBonus 属性]。</td>
<td>{A 的name} used {B 的name} and earned {增加的金钱数}.<br />{A 的name} got extra exp {额外获得的经验}.</td>
</tr>
<tr>
<td>EpicSword</td>
<td>使用后A的生命值减少 10.0、经验值增加 10.0，金钱数增加相当于[B 的 sharpness属性]一倍的量。然后B的sharpness 属性变为原来的 evolveRatio倍。</td>
<td>{A 的 name} used {B 的 name} and earned {增加的金钱数}.<br />{B 的 name}’s sharpness became {B 变化后的sharpness}.</td>
</tr>
</tbody></table>
<p>请注意打印文本中存在的换行。</p>
<hr>
<h4 id="输入-输出格式-2"><a href="#输入-输出格式-2" class="headerlink" title="输入&#x2F;输出格式"></a>输入&#x2F;输出格式</h4><p>第一行一个整数 $m$，表示操作的个数。</p>
<p>接下来的 $m$ 行，每行一个形如 <code>&#123;type&#125; &#123;attribute&#125;</code> 的操作，操作输入形式及其含义如下：</p>
<ul>
<li>指令相较于 task3 增加两条，其余指令不发生变化。</li>
</ul>
<table>
<thead>
<tr>
<th>type</th>
<th>attribute</th>
<th>意义</th>
<th>输出文本</th>
</tr>
</thead>
<tbody><tr>
<td>8</td>
<td><code>&#123;adv_id&#125;</code></td>
<td>编号为 <code>&#123;adv_id&#125;</code> 的冒险者按照 <code>price</code> 由大到小的顺序使用其全部装备，若 <code>price</code> 相同则按照装备的 <code>id</code> 由大到小使用。（ <code>price</code> 为所有装备本次使用前的 <code>price</code> ）</td>
<td>每个装备在使用时会产生输出，除此之外无额外输出。</td>
</tr>
<tr>
<td>9</td>
<td><code>&#123;adv_id&#125;</code></td>
<td>打印编号为 <code>&#123;adv_id&#125;</code> 的冒险者的所有状态。</td>
<td>一个字符串表示冒险者的状态：<br />The adventurer’s id is {adv_id}, name is {name}, health is {health}, exp is {exp}, money is {money}.</td>
</tr>
</tbody></table>
<h4 id="数据范围与操作限制-3"><a href="#数据范围与操作限制-3" class="headerlink" title="数据范围与操作限制"></a>数据范围与操作限制</h4><h5 id="变量约束-3"><a href="#变量约束-3" class="headerlink" title="变量约束"></a>变量约束</h5><table>
<thead>
<tr>
<th>变量</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>整数</td>
<td>取值范围：0 - 2147483647</td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td>保证不会出现空白字符</td>
</tr>
<tr>
<td>price</td>
<td>长整数</td>
<td>在 long 精度范围内</td>
</tr>
<tr>
<td>capacity, efficiency, expRatio, sharpness, extraExpBonus, evolveRatio</td>
<td>浮点数</td>
<td>在 double 精度范围内</td>
</tr>
</tbody></table>
<h5 id="操作约束-3"><a href="#操作约束-3" class="headerlink" title="操作约束"></a>操作约束</h5><ul>
<li>操作数满足 $1 \leq m \leq 2000$。</li>
<li>保证所有冒险者与装备的 ID 两两不同。</li>
<li>操作 1：不会加入与已有冒险者和装备 ID 相同 ID 的新冒险者。</li>
<li>操作 2：冒险者 ID 一定存在，且新装备的 ID 与当前所有冒险者和装备的 ID 均不相同。</li>
<li>操作 3：冒险者 ID 一定存在，且冒险者一定持有该 ID 的装备。</li>
<li>操作 4：冒险者 ID 一定存在，若冒险者不持有任何装备，则输出 0。</li>
<li>操作 5：冒险者 ID 一定存在，且冒险者一定持有至少一个装备。</li>
<li>操作 6：冒险者 ID 一定存在，若冒险者不持有任何装备，则输出 0。</li>
<li>操作 7：冒险者 ID 一定存在，且冒险者一定持有该 ID 的装备。</li>
<li>操作 8：冒险者 ID 一定存在。</li>
<li>操作 9：冒险者 ID 一定存在。</li>
</ul>
<h4 id="测评方法-3"><a href="#测评方法-3" class="headerlink" title="测评方法"></a>测评方法</h4><p>输出数值时，你的输出数值需要和正确数值相等。</p>
<p><strong>假设你的输出值 $x_{out}$ 和正确数值 $x_{std}$ 之间的绝对或相对误差小于等于  $10 ^ {-5}$，则认为是相等的，即满足</strong><br>$$<br>\dfrac {|x_{std} - x_{out}|}{\max(1, |x_{std}|)} \leq 10^{-5}<br>$$</p>
<h4 id="输入样例-3"><a href="#输入样例-3" class="headerlink" title="输入样例"></a>输入样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">1 1 Person1</span><br><span class="line">2 1 1 2 water_bottle1 10 50.0</span><br><span class="line">2 1 6 3 epic_sword1 300 7.0 1.5</span><br><span class="line">2 1 3 4 exp_bottle1 10 3.0 1.2</span><br><span class="line">8 1</span><br><span class="line">9 1</span><br></pre></td></tr></table></figure>

<h4 id="输出样例-3"><a href="#输出样例-3" class="headerlink" title="输出样例"></a>输出样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Person1 used epic_sword1 and earned 7.0.</span><br><span class="line">epic_sword1&#x27;s sharpness became 10.5.</span><br><span class="line">Person1 drank exp_bottle1 and recovered 0.3.</span><br><span class="line">Person1&#x27;s exp became 12.0.</span><br><span class="line">Person1 drank water_bottle1 and recovered 5.0.</span><br><span class="line">The adventurer&#x27;s id is 1, name is Person1, health is 95.3, exp is 12.0, money is 7.0.</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="提示-2"><a href="#提示-2" class="headerlink" title="提示"></a>提示</h4><ol>
<li>建议在Equipment类中定义一个use方法，在所有的装备子类中都去重写这个use方法，另外还应该为所有需要打印描述字符串的类重写toString方法。在Adventurer类中定义<code>HashMap&lt;Integer, Equipment&gt;</code>类型的equipments属性，表示冒险者拥有的全部装备，在执行操作8时，先对equipments中存储的装备进行排序，然后依次调用这些装备对象的use方法（因为有多态机制，这里不需要强制转型，直接调用就可以保证行为正确）。</li>
<li>冒险者使用装备的过程中，是对冒险者属性和装备自身属性的读取，运算和修改。如何才能让装备类的方法可以读取并修改他的使用者的属性呢？为<code>use</code>方法传递一个冒险者作为参数是一个好主意。</li>
<li>在 <code>Bottle</code> 和它的子类在 <code>filled</code> 为 <code>false</code> 时被使用就可以看作是一种异常行为。于是你可以在 <code>Bottle.use</code> 方法中抛出一个异常（使用 throw 语句），在 <code>HealingPotion.use</code> 调用 <code>Bottle.use</code> 时，不处理这个异常而是将其继续抛出到上层，而在冒险者循环使用装备的代码中将其捕获并打印出错误信息。</li>
</ol>
<p>下面的代码是标程中Bottle类内定义的use方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">(Adventurer user)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="keyword">if</span> (!isFilled()) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;Failed to use &quot;</span> + getName() + <span class="string">&quot; because it is empty.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    user.setHealth(user.getHealth() + capacity / <span class="number">10</span>);</span><br><span class="line">    setFilled(<span class="literal">false</span>);</span><br><span class="line">    setPrice(getPrice().divide(BigInteger.TEN));</span><br><span class="line"></span><br><span class="line">    System.out.println(user.getName() +</span><br><span class="line">            <span class="string">&quot; drank &quot;</span> + getName() +</span><br><span class="line">            <span class="string">&quot; and recovered &quot;</span> + capacity / <span class="number">10</span> +</span><br><span class="line">            <span class="string">&quot;.&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面的代码是标程中在Adventurer类中用于完成操作8所定义的useAll方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">useAll</span><span class="params">()</span> &#123;</span><br><span class="line">    ArrayList&lt;Equipment&gt; sorted = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(equipments.values());</span><br><span class="line">    Collections.sort(sorted, Comparator.reverseOrder());</span><br><span class="line">    <span class="keyword">for</span> (Equipment equipment : sorted) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            equipment.use(<span class="built_in">this</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>本次作业将会涉及到自定义排序，请学习如何给对象编写 <code>compareTo</code> 方法并实现 <code>Comparable</code> 接口，之后即可利用 <code>Collections.sort</code> 方法来给容器内对象进行排序，考虑到有许多知识同学们还没有学过，本章结尾会给出一个例子，同学们可以照猫画虎地完成，compareTo方法仅需要在Equipment类中定义，Equipment类的子类如果不重写该方法的话，将会与父类行为保持一致。</li>
</ol>
<blockquote>
<p>与 <code>Collections.sort</code> 会调用 <code>compareTo</code> 方法实现自定义排序，类似地，<code>TreeSet</code> 和 <code>TreeMap</code> 容器也会通过调用对象的 <code>compareTo</code> 方法，从而维护一个key对象有序的集合&#x2F;映射。</p>
<p>另外，<code>HashSet</code> 和 <code>HashMap</code> 这两种容器会通过调用对象的 <code>hashCode</code> 方法和 <code>equals</code> 方法来将任意对象作为key来使用。<strong>这个知识点非常重要，请同学们务必弄懂其原理</strong>。</p>
<p>Java中许多内置的类，比如 <code>Integer</code> 和 <code>BigInteger</code> 等等都已经实现了<code>compareTo</code>、<code>hashCode</code>、<code>equals</code> 方法，所以你才可以直接把他们当作 <code>TreeMap</code> 和 <code>HashMap</code> 的key来使用。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Comparable接口的例子</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainClass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Score</span> <span class="variable">xiaoMing</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Score</span>(<span class="number">120</span>, <span class="number">138</span>);</span><br><span class="line">        <span class="type">Score</span> <span class="variable">xiaoHong</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Score</span>(<span class="number">125</span>, <span class="number">133</span>);</span><br><span class="line">        <span class="type">Score</span> <span class="variable">xiaoWang</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Score</span>(<span class="number">119</span>, <span class="number">145</span>);</span><br><span class="line">        ArrayList&lt;Score&gt; scores = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        scores.add(xiaoMing);</span><br><span class="line">        scores.add(xiaoHong);</span><br><span class="line">        scores.add(xiaoWang);</span><br><span class="line"></span><br><span class="line">        Collections.sort(scores);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Score score : scores) &#123; <span class="comment">// 如果你使用IDEA编写代码，可以试一试打出 &quot;scores.for&lt;TAB&gt;&quot; 这一串按键，快速补齐for循环</span></span><br><span class="line">            System.out.println(score); <span class="comment">// 试一试 &quot;score.sout&lt;TAB&gt;&quot;，自动补齐打印语句</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        运行结果如下，越大的对象越在后面（即升序排序）:</span></span><br><span class="line"><span class="comment">        Score&#123;chinese=120, math=138&#125;</span></span><br><span class="line"><span class="comment">        Score&#123;chinese=125, math=133&#125;</span></span><br><span class="line"><span class="comment">        Score&#123;chinese=119, math=145&#125;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Score</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Score&gt; &#123; <span class="comment">// 后面尖括号里的类名基本上都会与前面的类名相同，表达“Score这个类可以与Score这个类相比较”这个意思。</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> chinese;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> math;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Score</span><span class="params">(<span class="type">int</span> chinese, <span class="type">int</span> math)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.chinese = chinese;</span><br><span class="line">        <span class="built_in">this</span>.math = math;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSum</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> chinese + math;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 自定义分数的比较规则，首先比较总分，总分相同比较语文，语文相同比较数学……</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Score other)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.getSum() &lt; other.getSum()) &#123; <span class="comment">//首先比较总分，总分高的先录取</span></span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">// 返回 -1 代表 this 小于 other</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.getSum() &gt; other.getSum()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// 返回 1 代表 this 大于 other</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.chinese &lt; other.chinese) &#123; <span class="comment">//若总分一样，按语文分更高的先录取</span></span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.chinese &gt; other.chinese) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 返回任何负值都代表this &lt; other，于是可以这样子简写，</span></span><br><span class="line">        <span class="comment">// 下面三行关于math的比较和上面的五行关于chinese的比较是完全等价的。</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.math != other.math) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.math - other.math; </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//返回0代表两被比较对象相等</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Score&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;chinese=&quot;</span> + chinese +</span><br><span class="line">                <span class="string">&quot;, math=&quot;</span> + math +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="值得注意的点-3"><a href="#值得注意的点-3" class="headerlink" title="值得注意的点"></a>值得注意的点</h3><ol>
<li>对于公有方法，设计时可以自上向下，有利于在顶层统一规范。</li>
<li>通过设计类内变量为<code>private</code>类型，并通过设计<code>public</code>的<code>get</code>和<code>set</code>方法达到对其的访问是一种好的设计习惯。</li>
<li>对于本task，可以支持<code>Equipment</code>类子类对象之间的相互比较，因此可以使<code>Equipment</code>实现<code>Comparable</code>接口，并具体重写<code>compareTo</code>方法，这将在下面<strong>扩展知识</strong>具体介绍。</li>
<li><code>HashSet</code>和<code>HashMap</code>中的<code>hashCode</code>和<code>equals</code>方法，这将在下面<strong>扩展知识</strong>具体介绍。</li>
</ol>
<h3 id="扩展知识-2"><a href="#扩展知识-2" class="headerlink" title="扩展知识"></a>扩展知识</h3><h4 id="Comparable接口和compareTo方法"><a href="#Comparable接口和compareTo方法" class="headerlink" title="Comparable接口和compareTo方法"></a><code>Comparable</code>接口和<code>compareTo</code>方法</h4><p><code>Comparable</code>接口的声明为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Comparable</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(T o)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当我们需要两个对象彼此可比较时，可以对其类实现该接口，并重写<code>compareTo</code>方法，举例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Equipment</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Equipment&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Equipment</span><span class="params">(<span class="type">long</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(<span class="type">long</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Equipment other)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.price &gt; other.price) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.price &lt; other.price) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.id &gt; other.id) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>compareTo</code>方法返回值类型为<code>int</code>，本意是希望当当前对象比传入参数对象大的时候返回正数，小的时候返回负数，相等返回0，但是实际应用中也可以直接逆过来实现降序。</p>
<p>但是笔者仍旧认为，对两个对象大小的比较在<code>compareTo</code>中最好仍按照其本意写，此时若直接调用<code>Collections.sort</code>则为升序，若需要降序则可以添加参数<code>Comparator.reverseOrder()</code>，如：<code>Collections.sort(sorted, Comparator.reverseOrder());</code>，其中<code>sorted</code>为被比较对象类型的<code>ArrayList</code>。</p>
<h4 id="HashSet和HashMap与hashCode和equals"><a href="#HashSet和HashMap与hashCode和equals" class="headerlink" title="HashSet和HashMap与hashCode和equals"></a><code>HashSet</code>和<code>HashMap</code>与<code>hashCode</code>和<code>equals</code></h4><p><code>abstractMap</code>类中有<code>hashCode</code>方法和<code>equals</code>方法，其原型如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">native</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">this</span> == obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>hashCode</code>方法会返回一个哈希值。</p>
<p><code>equals</code>方法判断两个对象是否同一，并非两个对象是否相等。如果想要实现判断两个对象是否相等，需要自己重写方法。</p>
<p>由于指导书中特地强调了这两个方法的重要性，因此笔者将其列在这，但是目前不很清楚课程组的意图，等待未来更新.jpg</p>
<h2 id="Part-5-Pre-2-task-5"><a href="#Part-5-Pre-2-task-5" class="headerlink" title="Part 5 Pre 2 task 5"></a>Part 5 Pre 2 task 5</h2><h3 id="题目-4"><a href="#题目-4" class="headerlink" title="题目"></a>题目</h3><h4 id="基本要求-2"><a href="#基本要求-2" class="headerlink" title="基本要求"></a>基本要求</h4><p>在本任务中，我们允许<strong>冒险者雇佣并使用另一个冒险者</strong>，且<strong>赋予冒险者价值的概念</strong>，把装备和冒险者都看作是<strong>价值体</strong>。</p>
<hr>
<h4 id="题目描述-1"><a href="#题目描述-1" class="headerlink" title="题目描述"></a>题目描述</h4><ul>
<li>在 Task4 的基础上，我们定义冒险者的价值 <code>price</code> 为<strong>其拥有的所有价值体的价值之和</strong>，即冒险者的价值是其<strong>装备</strong>的价值及其<strong>雇佣的冒险者</strong>的价值的和。</li>
<li>在 Task4 的基础上，增加冒险者之间的<strong>雇佣关系</strong>：冒险者 A 雇佣冒险者 B，可以认为是把冒险者 B 看成一种<strong>价值体</strong>。此时冒险者 A 拥有价值体冒险者 B，之后冒险者 A 便可以像使用其他装备一样<strong>使用</strong>冒险者 B。</li>
<li>在Task4的基础上，定义<strong>冒险者 A 使用冒险者 B</strong>，其效果为冒险者 A <strong>按照价值从大到小、价值相同则按价值体 <code>id</code> 从大到小的顺序（同 Task4）</strong> 依次使用<strong>冒险者 B 的价值体</strong>，价值体的价值指的是所有价值体在<strong>本次使用前</strong>的价值。我们规定：如果当前使用到了冒险者 B 雇佣的冒险者 C，则冒险者 C 要按照如上顺序使用其拥有的价值体，这些价值体将作用于最开始使用的冒险者，在此处即为冒险者 A。</li>
</ul>
<hr>
<h4 id="输入-输出格式-3"><a href="#输入-输出格式-3" class="headerlink" title="输入&#x2F;输出格式"></a>输入&#x2F;输出格式</h4><p>第一行一个整数 $m$，表示操作的个数。</p>
<p>接下来的 $m$ 行，每行一个形如 <code>&#123;type&#125; &#123;attribute&#125;</code> 的操作，操作输入形式及其含义如下：</p>
<ul>
<li>对 Task4 中的一些指令进行<strong>少量修改</strong>，<strong>重点地方已经加粗</strong>，并新增一条指令 10：</li>
</ul>
<table>
<thead>
<tr>
<th>type</th>
<th>attribute</th>
<th>指令含义</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>&#123;adv_id&#125; &#123;name&#125;</code></td>
<td>加入一个 ID 为 <code>&#123;adv_id&#125;</code>、名字为 <code>&#123;name&#125;</code> 的冒险者，且未持有任何装备</td>
<td>无</td>
</tr>
<tr>
<td>2</td>
<td><code>&#123;adv_id&#125; &#123;equipment_type&#125; &#123;vars&#125;（equipment_type和vars的含义见下表）</code></td>
<td>给予某个人某件装备，装备类型由 <code>&#123;equipment_type&#125;</code> 定义，属性由 <code>&#123;vars&#125;</code> 定义，所有的瓶子初始默认装满</td>
<td>无</td>
</tr>
<tr>
<td>3</td>
<td><code>&#123;adv_id&#125; &#123;id&#125;</code></td>
<td>删除 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者的 ID 为 <code>&#123;id&#125;</code> 的<strong>价值体</strong><br/>如果被删除的价值体是冒险者，则解除雇佣关系，后续无法使用该被被解除了雇佣关系的冒险者<br/>如果删除的价值体是装备，则丢弃该装备，后续该冒险者无法使用该装备</td>
<td>无</td>
</tr>
<tr>
<td>4</td>
<td><code>&#123;adv_id&#125;</code></td>
<td>查询 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者所持有<strong>价值体</strong>的价格之和<br/>如果价值体是装备，则价值就是 <code>price</code> <br/>如果价值体是冒险者，则其价值计算按照本 Task 最开始定义的规则</td>
<td>一个整数，表示某人所有<strong>价值体</strong>的价值总和</td>
</tr>
<tr>
<td>5</td>
<td><code>&#123;adv_id&#125;</code></td>
<td>查询 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者所持有<strong>价值体</strong>价格的最大值<br>如果价值体是装备，则价值就是 <code>price</code> <br>如果价值体是冒险者，则其价值计算按照本 Task 最开始定义的规则</td>
<td>一个整数，表示该冒险者所有<strong>价值体</strong>价格的最大值</td>
</tr>
<tr>
<td>6</td>
<td><code>&#123;adv_id&#125;</code></td>
<td>查询 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者所持有的价值体总数<br>如果价值体是装备，则对总数的贡献是 1<br>如果价值体是冒险者，则<strong>只要考虑被雇佣冒险者本身这一个价值体</strong>即可，不需要考虑被雇佣冒险者所拥有的其他价值体，即对总数的贡献也是 1。</td>
<td>一个整数，表示某人所有<strong>价值体</strong>的数量之和</td>
</tr>
<tr>
<td>7</td>
<td><code>&#123;adv_id&#125; &#123;commodity_id&#125;</code></td>
<td>打印 ID 为 <code>&#123;commodity_id&#125;</code> 的<strong>价值体</strong>的全部属性</td>
<td>该<strong>价值体</strong>的全部属性，格式见下文“属性打印方式”</td>
</tr>
<tr>
<td>8</td>
<td><code>&#123;adv_id&#125;</code></td>
<td>ID 为 <code>adv_id</code> 的冒险者按照价值<strong>由大到小</strong>的顺序使用其全部<strong>价值体</strong>，若价值相同则按照价值体的 <code>id</code> <strong>由大到小</strong>的顺序使用。（ 价值体价值为所有价值体<strong>本次使用前的价值</strong>）<br>如果当前使用的是冒险者价值体，则按照上述顺序使用该冒险者价值体拥有的价值体</td>
<td>每个<strong>价值体</strong>在使用时就会产生输出，除此之外无额外输出</td>
</tr>
<tr>
<td>9</td>
<td><code>&#123;adv_id&#125;</code></td>
<td>打印 ID 为 <code>&#123;adv_id&#125;</code> 的冒险者的当前状态。</td>
<td>一个字符串表示冒险者的状态：<br />The adventurer’s id is {adv_id}, name is {name}, health is {health}, exp is {exp}, money is {money}.</td>
</tr>
<tr>
<td>10</td>
<td><code>&#123;adv_id1&#125; &#123;adv_id2&#125;</code></td>
<td>ID 为<code>adv_id1</code>的冒险者雇佣 ID 为<code>adv_id2</code>的冒险者</td>
<td>无</td>
</tr>
</tbody></table>
<p><code>vars</code> 和 <code>equipment_type</code> 如下：</p>
<table>
<thead>
<tr>
<th>装备类型</th>
<th>equipment_type</th>
<th>vars</th>
</tr>
</thead>
<tbody><tr>
<td>Bottle</td>
<td>1</td>
<td>id name price capacity</td>
</tr>
<tr>
<td>HealingPotion</td>
<td>2</td>
<td>id name price capacity efficiency</td>
</tr>
<tr>
<td>ExpBottle</td>
<td>3</td>
<td>id name price capacity expRatio</td>
</tr>
<tr>
<td>Sword</td>
<td>4</td>
<td>id name price sharpness</td>
</tr>
<tr>
<td>RareSword</td>
<td>5</td>
<td>id name price sharpness extraExpBonus</td>
</tr>
<tr>
<td>EpicSword</td>
<td>6</td>
<td>id name price sharpness evolveRatio</td>
</tr>
</tbody></table>
<p>属性打印方式表格：</p>
<table>
<thead>
<tr>
<th>价值体类型</th>
<th>属性打印方式</th>
</tr>
</thead>
<tbody><tr>
<td>Bottle</td>
<td>The bottle’s id is {id}, name is {name}, capacity is {capacity}, filled is {filled}.</td>
</tr>
<tr>
<td>HealingPotion</td>
<td>The healingPotion’s id is {id}, name is {name}, capacity is {capacity}, filled is {filled}, efficiency is {efficiency}.</td>
</tr>
<tr>
<td>ExpBottle</td>
<td>The expBottle’s id is {id}, name is {name}, capacity is {capacity}, filled is {filled}, expRatio is {expRatio}.</td>
</tr>
<tr>
<td>Sword</td>
<td>The sword’s id is {id}, name is {name}, sharpness is {sharpness}.</td>
</tr>
<tr>
<td>RareSword</td>
<td>The rareSword’s id is {id}, name is {name}, sharpness is {sharpness}, extraExpBonus is {extraExpBonus}.</td>
</tr>
<tr>
<td>EpicSword</td>
<td>The epicSword’s id is {id}, name is {name}, sharpness is {sharpness}, evolveRatio is {evolveRatio}.</td>
</tr>
<tr>
<td><strong>Adventurer</strong>（新增）</td>
<td>The adventurer’s id is {id}, name is {name}, health is {health}, exp is {exp}, money is {money}.</td>
</tr>
</tbody></table>
<h4 id="数据范围与操作限制-4"><a href="#数据范围与操作限制-4" class="headerlink" title="数据范围与操作限制"></a>数据范围与操作限制</h4><h5 id="变量约束-4"><a href="#变量约束-4" class="headerlink" title="变量约束"></a>变量约束</h5><table>
<thead>
<tr>
<th>变量</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>整数</td>
<td>取值范围：0 - 2147483647</td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td>保证不会出现空白字符</td>
</tr>
<tr>
<td>price</td>
<td>长整数</td>
<td>在 long 精度范围内</td>
</tr>
<tr>
<td>capacity, efficiency, expRatio, sharpness, extraExpBonus, evolveRatio</td>
<td>浮点数</td>
<td>在 double 精度范围内</td>
</tr>
</tbody></table>
<h5 id="操作约束-4"><a href="#操作约束-4" class="headerlink" title="操作约束"></a>操作约束</h5><ul>
<li>操作数满足 $1 \leq m \leq 2000$​。</li>
<li>保证所有价值体的 ID 两两不同。</li>
<li>操作 1：不会加入与已有价值体 ID 相同 ID 的新冒险者。</li>
<li>操作 2：冒险者 ID 一定存在，且新装备的 ID 与当前所有价值体的 ID 均不相同。</li>
<li>操作 3：冒险者 ID 一定存在，且冒险者一定持有该 ID 的价值体。</li>
<li>操作 4：冒险者 ID 一定存在，若冒险者不持有任何价值体，则输出 0。</li>
<li>操作 5：冒险者 ID 一定存在，且冒险者一定持有至少一个价值体。</li>
<li>操作 6：冒险者 ID 一定存在，若冒险者不持有任何价值体，则输出 0。</li>
<li>操作 7：冒险者 ID 一定存在，且冒险者一定持有该 ID 的价值体。</li>
<li>操作 8：冒险者 ID 一定存在。</li>
<li>操作 9：冒险者 ID 一定存在。</li>
<li>操作 10：雇佣和被雇佣的冒险者均已存在，且不是同一个冒险者。</li>
<li>冒险者的雇佣关系不会存在循环雇佣的情况，每个冒险者最多仅能被一个其他冒险者雇佣一次。</li>
</ul>
<h4 id="测评方法-4"><a href="#测评方法-4" class="headerlink" title="测评方法"></a>测评方法</h4><p>输出数值时，你的输出数值需要和正确数值相等。</p>
<p><strong>假设你的输出值 $x_{out}$ 和正确数值 $x_{std}$ 之间的绝对或相对误差小于等于  $10 ^ {-5}$，则认为是相等的，即满足</strong><br>$$<br>\dfrac {|x_{std} - x_{out}|}{\max(1, |x_{std}|)} \leq 10^{-5}<br>$$</p>
<h4 id="输入样例-4"><a href="#输入样例-4" class="headerlink" title="输入样例"></a>输入样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">13</span><br><span class="line">1 1 Saber 							</span><br><span class="line">1 2 Lancer 							</span><br><span class="line">1 114514 Ausar 						</span><br><span class="line">2 1 1 3 bottle1 3 3 				</span><br><span class="line">2 2 4 4 sword1 4 5 					</span><br><span class="line">2 2 4 5 sword2 10 2 				</span><br><span class="line">2 114514 1 6 bottle2 3 3 			</span><br><span class="line">10 1 2 							</span><br><span class="line">10 2 114514 							</span><br><span class="line">7 1 2 							</span><br><span class="line">4 1 								</span><br><span class="line">6 1 								</span><br><span class="line">8 1 							</span><br></pre></td></tr></table></figure>

<h4 id="输出样例-4"><a href="#输出样例-4" class="headerlink" title="输出样例"></a>输出样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">The adventurer&#x27;s id is 2, name is Lancer, health is 100.0, exp is 0.0, money is 0.0.</span><br><span class="line">20</span><br><span class="line">2</span><br><span class="line">Saber used sword2 and earned 2.</span><br><span class="line">Saber used sword1 and earned 5.</span><br><span class="line">Saber drank bottle2 and recovered 0.3.</span><br><span class="line">Saber drank bottle1 and recovered 0.3. </span><br></pre></td></tr></table></figure>

<hr>
<h4 id="提示-3"><a href="#提示-3" class="headerlink" title="提示"></a>提示</h4><p>冒险者和装备都是价值体，都可以<strong>求价值</strong>、<strong>被使用</strong>以及<strong>字符串化</strong>等，故一个推荐的设计方法是建立<strong>价值体接口</strong> ，接口中包含上述提到的三个方法，让冒险者 <code>Adventurer</code> 和装备 <code>Equipment</code> 都实现这个接口，这样在顶层逻辑中就只能看到<strong>价值体</strong>这一种类型，可使用该类型的引用去调用不同子类型对象的这三种方法，这种处理称为归一化处理，会在正式课程中有专门的论述和训练。</p>
<h3 id="值得注意的点-4"><a href="#值得注意的点-4" class="headerlink" title="值得注意的点"></a>值得注意的点</h3><p>笔者在本次task进行了相当程度的重构和优化，代码结构和风格有较大提升，以下记录重构重点：</p>
<ol>
<li><p>面向对象是一种思想，具体到底层单个方法的实现，依旧是面向过程的程序，在方法体中依旧不能抛弃结构化编程思想。举例来说，在<code>MainClass</code>的<code>main</code>方法中，对于每种输入情况的判断如果不加以封装，则会非常冗长，一方面不符合结构化编程的思想，另一方面没办法通过<code>checkstyle</code>中的一个要求——单个方法不超过60行。以下举例我的解决办法：</p>
<p>main方法中按照输入情况传参数到分别的方法中：</p>
<img src="/2022/02/26/%E3%80%8CBUAA-OO-Pre%E3%80%8D-Pre-2%E6%80%BB%E7%BB%93%E5%9B%9E%E9%A1%BE%E6%A6%82%E8%A7%88/image-20220226222545444.png" class="" title="p2"></li>
</ol>
<p>MainClass中对每个情况写了一个<code>casex</code>函数（x&#x3D;1,2,…10），分别处理不同情况，做到高内聚低耦合：</p>
<img src="/2022/02/26/%E3%80%8CBUAA-OO-Pre%E3%80%8D-Pre-2%E6%80%BB%E7%BB%93%E5%9B%9E%E9%A1%BE%E6%A6%82%E8%A7%88/image-20220226224514396.png" class="" title="p2">

<p>对于一个<code>case</code>方法中情况较多的，同样再次细分方法：</p>
<img src="/2022/02/26/%E3%80%8CBUAA-OO-Pre%E3%80%8D-Pre-2%E6%80%BB%E7%BB%93%E5%9B%9E%E9%A1%BE%E6%A6%82%E8%A7%88/image-20220226224717881.png" class="" title="p2">

<img src="/2022/02/26/%E3%80%8CBUAA-OO-Pre%E3%80%8D-Pre-2%E6%80%BB%E7%BB%93%E5%9B%9E%E9%A1%BE%E6%A6%82%E8%A7%88/image-20220226224730344.png" class="" title="p2">

<p>值得注意的是，上述方法中均为<code>static</code>方法，这样才可以在<code>main</code>方法中被调用，因为<code>main</code>方法也是<code>static</code>的。</p>
<ol start="2">
<li>对<strong>具有公共行为</strong>的类，设置顶层接口并使得这些类实现这个接口以实现设计的统一。接口是一种抽象的类，但是其与继承并不相同，具体而言，在本task中，<code>Bottle</code>父类有<code>ExpBottle</code>子类和<code>HealingPotion</code>子类，子类拥有父类的全部特征和方法；<code>Equipment</code>和<code>Asventurer</code>宏观上来讲是不同的事物，但是它们都具有作为价值体的共同特征：如求价值等公共方法，因此可以用一个顶层公共接口约束其行为，在两个类中分别实现接口。继承和接口的区别可以在未来的代码过程中进一步体会。</li>
<li>在本task中，有一个细节值得注意：若冒险者<code>useall</code>，该冒险者还雇佣了冒险者，那么被雇佣的冒险者的价值体的使用应当被归到雇佣其的冒险者身上。</li>
<li>在本task中涉及了异常相关概念，可以在未来代码过程中更进一步体会理解。</li>
</ol>
<h2 id="Part-6-后记"><a href="#Part-6-后记" class="headerlink" title="Part 6 后记"></a>Part 6 后记</h2><p>本篇博客字数略多，其中题目描述占了大部分，笔者心得和体会篇幅并不很长。博客中仍有一些悬而未决的问题，如课程组强调<code>hashCode</code>和<code>equals</code>方法的意图是什么等，如果有所体会将会回来更新。</p>

                
                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2022/03/05/「BUAA-OO-Unit-1-HW1」-【面向对象的】入手思路及架构分享/" data-toggle="tooltip" data-placement="top" title="「BUAA OO Unit 1 HW1」 【面向对象的】入手思路及架构分享">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2022/02/17/「BUAA-OO-Pre」Git生成多个ssh-key并连接GitLab仓库/" data-toggle="tooltip" data-placement="top" title="「BUAA OO Pre」Git生成多个ssh key并连接GitLab仓库">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- tip start -->
                

                
                <div class="comment_notes">
                    <p>
                        This is copyright.
                    </p>
                </div>
                
                <!-- tip end -->

                <!-- Music start-->
                
                <!-- Music end -->

                <!-- Sharing -->
                
                <div class="social-share"  data-wechat-qrcode-helper="" align="center"></div>
                <!--  css & js -->
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
                <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
                
                <!-- Sharing -->

                <!-- gitment start -->
                
                <hr>
                <div id="blog_comments"></div>

<!--
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
-->
<!--
<link rel="stylesheet" href="/css/gitment.css">
<script type="text/javascript" src="/js/gitment.js"></script>
-->

<script src="https://cdn.jsdelivr.net/gh/theme-next/theme-next-gitment@1/gitment.browser.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/theme-next/theme-next-gitment@1/default.css"/>

<!--
<link rel="stylesheet" href="https://billts.site/extra_css/gitment.css">
<script src="https://billts.site/js/gitment.js"></script>
-->

<script>
const myTheme = {
  render(state, instance) {
    const container = document.createElement('div')
    container.lang = "en-US"
    container.className = 'gitment-container gitment-root-container'
    
     // your custom component
    container.appendChild(instance.renderSomething(state, instance))
    
    container.appendChild(instance.renderHeader(state, instance))
    container.appendChild(instance.renderComments(state, instance))
    container.appendChild(instance.renderEditor(state, instance))
    //container.appendChild(instance.renderFooter(state, instance))
    return container
  },
  renderSomething(state, instance) {
    const container = document.createElement('div')
    container.lang = "en-US"
    container.className = 'hello_visitor'
    if (state.user.login) {
      container.innerText = `Hello ${state.user.login}, Welcome to comment system`
    }
    return container
  }
}


const gitment = new Gitment({
    id: 'Sat Feb 26 2022 09:19:29 GMT+0800', // optional
    owner: "saltyfishyjk",
    repo: "saltyfishyjk.github.io",
    oauth: {
      client_id: "17737ec06ef80355865e",
      client_secret: "d79eba1e32e61803f07e93646964a7978e09f515",
    },
    theme: myTheme,
    // ...
    // For more available options, check out the documentation below
  })
  
  gitment.render('blog_comments')
  // or
  // gitment.render(document.getElementById('comments'))
  // or
  // document.body.appendChild(gitment.render())
</script>
                
                <!-- gitment end -->

                <!-- 来必力City版安装代码 -->
                
                <!-- City版安装代码已完成 -->

                <!-- disqus comment start -->
                
                <!-- disqus comment end -->
            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

    
      
        <aside id="sidebar">
          <div id="toc" class="toc-article">
          <strong class="toc-title">Contents</strong>
          
            
              <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#%E3%80%8CBUAA-OO-Pre%E3%80%8D-Pre-2%E6%80%BB%E7%BB%93%E5%9B%9E%E9%A1%BE%E6%A6%82%E8%A7%88"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">「BUAA OO Pre」 Pre 2总结回顾概览</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Part-0-%E5%89%8D%E8%A8%80"><span class="toc-nav-number">1.1.</span> <span class="toc-nav-text">Part 0 前言</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%86%99%E4%BD%9C%E8%83%8C%E6%99%AF"><span class="toc-nav-number">1.1.1.</span> <span class="toc-nav-text">写作背景</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%AE%9A%E4%BD%8D"><span class="toc-nav-number">1.1.2.</span> <span class="toc-nav-text">定位</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%82%A8%E5%8F%AF%E4%BB%A5%E5%9C%A8%E8%BF%99%E9%87%8C%E6%9C%9F%E6%9C%9B%E8%8E%B7%E5%BE%97"><span class="toc-nav-number">1.1.3.</span> <span class="toc-nav-text">您可以在这里期望获得</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%82%A8%E5%9C%A8%E8%BF%99%E9%87%8C%E6%97%A0%E6%B3%95%E6%9C%9F%E6%9C%9B%E8%8E%B7%E5%BE%97"><span class="toc-nav-number">1.1.4.</span> <span class="toc-nav-text">您在这里无法期望获得</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%AF%B9%E8%AF%BB%E8%80%85%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86%E7%9A%84%E6%9C%9F%E6%9C%9B"><span class="toc-nav-number">1.1.5.</span> <span class="toc-nav-text">对读者前置知识的期望</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Part-1-Pre-2-task-1"><span class="toc-nav-number">1.2.</span> <span class="toc-nav-text">Part 1 Pre 2 task 1</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE"><span class="toc-nav-number">1.2.1.</span> <span class="toc-nav-text">题目</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%8F%8F%E8%BF%B0"><span class="toc-nav-number">1.2.1.1.</span> <span class="toc-nav-text">描述</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F"><span class="toc-nav-number">1.2.1.2.</span> <span class="toc-nav-text">输入&#x2F;输出格式</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E4%B8%8E%E6%93%8D%E4%BD%9C%E9%99%90%E5%88%B6"><span class="toc-nav-number">1.2.1.3.</span> <span class="toc-nav-text">数据范围与操作限制</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E5%8F%98%E9%87%8F%E7%BA%A6%E6%9D%9F"><span class="toc-nav-number">1.2.1.3.1.</span> <span class="toc-nav-text">变量约束</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E6%93%8D%E4%BD%9C%E7%BA%A6%E6%9D%9F"><span class="toc-nav-number">1.2.1.3.2.</span> <span class="toc-nav-text">操作约束</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%B5%8B%E8%AF%84%E6%96%B9%E6%B3%95"><span class="toc-nav-number">1.2.1.4.</span> <span class="toc-nav-text">测评方法</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%85%A5%E6%A0%B7%E4%BE%8B"><span class="toc-nav-number">1.2.1.5.</span> <span class="toc-nav-text">输入样例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%87%BA%E6%A0%B7%E4%BE%8B"><span class="toc-nav-number">1.2.1.6.</span> <span class="toc-nav-text">输出样例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%8F%90%E7%A4%BA"><span class="toc-nav-number">1.2.1.7.</span> <span class="toc-nav-text">提示</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84%E7%82%B9"><span class="toc-nav-number">1.2.2.</span> <span class="toc-nav-text">值得注意的点</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Part-2-Pre-2-task-2"><span class="toc-nav-number">1.3.</span> <span class="toc-nav-text">Part 2 Pre 2 task 2</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE-1"><span class="toc-nav-number">1.3.1.</span> <span class="toc-nav-text">题目</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%A6%81%E6%B1%82"><span class="toc-nav-number">1.3.1.1.</span> <span class="toc-nav-text">基本要求</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%8F%8F%E8%BF%B0-1"><span class="toc-nav-number">1.3.1.2.</span> <span class="toc-nav-text">描述</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-1"><span class="toc-nav-number">1.3.1.3.</span> <span class="toc-nav-text">输入&#x2F;输出格式</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E4%B8%8E%E6%93%8D%E4%BD%9C%E9%99%90%E5%88%B6-1"><span class="toc-nav-number">1.3.1.4.</span> <span class="toc-nav-text">数据范围与操作限制</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E5%8F%98%E9%87%8F%E7%BA%A6%E6%9D%9F-1"><span class="toc-nav-number">1.3.1.4.1.</span> <span class="toc-nav-text">变量约束</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E6%93%8D%E4%BD%9C%E7%BA%A6%E6%9D%9F-1"><span class="toc-nav-number">1.3.1.4.2.</span> <span class="toc-nav-text">操作约束</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%B5%8B%E8%AF%84%E6%96%B9%E6%B3%95-1"><span class="toc-nav-number">1.3.1.5.</span> <span class="toc-nav-text">测评方法</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%85%A5%E6%A0%B7%E4%BE%8B-1"><span class="toc-nav-number">1.3.1.6.</span> <span class="toc-nav-text">输入样例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%87%BA%E6%A0%B7%E4%BE%8B-1"><span class="toc-nav-number">1.3.1.7.</span> <span class="toc-nav-text">输出样例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%8F%90%E7%A4%BA-1"><span class="toc-nav-number">1.3.1.8.</span> <span class="toc-nav-text">提示</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84%E7%82%B9-1"><span class="toc-nav-number">1.3.2.</span> <span class="toc-nav-text">值得注意的点</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86"><span class="toc-nav-number">1.3.3.</span> <span class="toc-nav-text">扩展知识</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#BigInteger"><span class="toc-nav-number">1.3.3.1.</span> <span class="toc-nav-text">BigInteger</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E4%B8%BB%E8%A6%81%E7%9A%84%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-nav-number">1.3.3.1.1.</span> <span class="toc-nav-text">主要的构造方法</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-nav-number">1.3.3.1.2.</span> <span class="toc-nav-text">常用方法</span></a></li></ol></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Part-3-Pre-2-task-3"><span class="toc-nav-number">1.4.</span> <span class="toc-nav-text">Part 3 Pre 2 task 3</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE-2"><span class="toc-nav-number">1.4.1.</span> <span class="toc-nav-text">题目</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%A6%81%E6%B1%82-1"><span class="toc-nav-number">1.4.1.1.</span> <span class="toc-nav-text">基本要求</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0"><span class="toc-nav-number">1.4.1.2.</span> <span class="toc-nav-text">题目描述</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-nav-number">1.4.1.3.</span> <span class="toc-nav-text">输入输出</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E4%B8%8E%E6%93%8D%E4%BD%9C%E9%99%90%E5%88%B6-2"><span class="toc-nav-number">1.4.1.4.</span> <span class="toc-nav-text">数据范围与操作限制</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E5%8F%98%E9%87%8F%E7%BA%A6%E6%9D%9F-2"><span class="toc-nav-number">1.4.1.4.1.</span> <span class="toc-nav-text">变量约束</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E6%93%8D%E4%BD%9C%E7%BA%A6%E6%9D%9F-2"><span class="toc-nav-number">1.4.1.4.2.</span> <span class="toc-nav-text">操作约束</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%B5%8B%E8%AF%84%E6%96%B9%E6%B3%95-2"><span class="toc-nav-number">1.4.1.5.</span> <span class="toc-nav-text">测评方法</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%85%A5%E6%A0%B7%E4%BE%8B-2"><span class="toc-nav-number">1.4.1.6.</span> <span class="toc-nav-text">输入样例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%87%BA%E6%A0%B7%E4%BE%8B-2"><span class="toc-nav-number">1.4.1.7.</span> <span class="toc-nav-text">输出样例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%A1%A5%E5%85%85%E6%9D%90%E6%96%99"><span class="toc-nav-number">1.4.1.8.</span> <span class="toc-nav-text">补充材料</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84%E7%82%B9-2"><span class="toc-nav-number">1.4.2.</span> <span class="toc-nav-text">值得注意的点</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86-1"><span class="toc-nav-number">1.4.2.1.</span> <span class="toc-nav-text">扩展知识</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#ArrayList%E5%92%8CHashMap%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95%E5%AF%B9%E6%AF%94"><span class="toc-nav-number">1.4.2.1.1.</span> <span class="toc-nav-text">ArrayList和HashMap基础用法对比</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E5%90%91%E4%B8%8A%E8%BD%AC%E5%9E%8B%E3%80%81%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B%E5%92%8C%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99"><span class="toc-nav-number">1.4.2.1.2.</span> <span class="toc-nav-text">向上转型、向下转型和方法重写</span></a></li></ol></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Part-4-Pre-2-task-4"><span class="toc-nav-number">1.5.</span> <span class="toc-nav-text">Part 4 Pre 2 task 4</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE-3"><span class="toc-nav-number">1.5.1.</span> <span class="toc-nav-text">题目</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%8F%8F%E8%BF%B0-2"><span class="toc-nav-number">1.5.1.1.</span> <span class="toc-nav-text">描述</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-2"><span class="toc-nav-number">1.5.1.2.</span> <span class="toc-nav-text">输入&#x2F;输出格式</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E4%B8%8E%E6%93%8D%E4%BD%9C%E9%99%90%E5%88%B6-3"><span class="toc-nav-number">1.5.1.3.</span> <span class="toc-nav-text">数据范围与操作限制</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E5%8F%98%E9%87%8F%E7%BA%A6%E6%9D%9F-3"><span class="toc-nav-number">1.5.1.3.1.</span> <span class="toc-nav-text">变量约束</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E6%93%8D%E4%BD%9C%E7%BA%A6%E6%9D%9F-3"><span class="toc-nav-number">1.5.1.3.2.</span> <span class="toc-nav-text">操作约束</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%B5%8B%E8%AF%84%E6%96%B9%E6%B3%95-3"><span class="toc-nav-number">1.5.1.4.</span> <span class="toc-nav-text">测评方法</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%85%A5%E6%A0%B7%E4%BE%8B-3"><span class="toc-nav-number">1.5.1.5.</span> <span class="toc-nav-text">输入样例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%87%BA%E6%A0%B7%E4%BE%8B-3"><span class="toc-nav-number">1.5.1.6.</span> <span class="toc-nav-text">输出样例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%8F%90%E7%A4%BA-2"><span class="toc-nav-number">1.5.1.7.</span> <span class="toc-nav-text">提示</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84%E7%82%B9-3"><span class="toc-nav-number">1.5.2.</span> <span class="toc-nav-text">值得注意的点</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86-2"><span class="toc-nav-number">1.5.3.</span> <span class="toc-nav-text">扩展知识</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Comparable%E6%8E%A5%E5%8F%A3%E5%92%8CcompareTo%E6%96%B9%E6%B3%95"><span class="toc-nav-number">1.5.3.1.</span> <span class="toc-nav-text">Comparable接口和compareTo方法</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#HashSet%E5%92%8CHashMap%E4%B8%8EhashCode%E5%92%8Cequals"><span class="toc-nav-number">1.5.3.2.</span> <span class="toc-nav-text">HashSet和HashMap与hashCode和equals</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Part-5-Pre-2-task-5"><span class="toc-nav-number">1.6.</span> <span class="toc-nav-text">Part 5 Pre 2 task 5</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE-4"><span class="toc-nav-number">1.6.1.</span> <span class="toc-nav-text">题目</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%A6%81%E6%B1%82-2"><span class="toc-nav-number">1.6.1.1.</span> <span class="toc-nav-text">基本要求</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0-1"><span class="toc-nav-number">1.6.1.2.</span> <span class="toc-nav-text">题目描述</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-3"><span class="toc-nav-number">1.6.1.3.</span> <span class="toc-nav-text">输入&#x2F;输出格式</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E4%B8%8E%E6%93%8D%E4%BD%9C%E9%99%90%E5%88%B6-4"><span class="toc-nav-number">1.6.1.4.</span> <span class="toc-nav-text">数据范围与操作限制</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E5%8F%98%E9%87%8F%E7%BA%A6%E6%9D%9F-4"><span class="toc-nav-number">1.6.1.4.1.</span> <span class="toc-nav-text">变量约束</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E6%93%8D%E4%BD%9C%E7%BA%A6%E6%9D%9F-4"><span class="toc-nav-number">1.6.1.4.2.</span> <span class="toc-nav-text">操作约束</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%B5%8B%E8%AF%84%E6%96%B9%E6%B3%95-4"><span class="toc-nav-number">1.6.1.5.</span> <span class="toc-nav-text">测评方法</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%85%A5%E6%A0%B7%E4%BE%8B-4"><span class="toc-nav-number">1.6.1.6.</span> <span class="toc-nav-text">输入样例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E8%BE%93%E5%87%BA%E6%A0%B7%E4%BE%8B-4"><span class="toc-nav-number">1.6.1.7.</span> <span class="toc-nav-text">输出样例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%8F%90%E7%A4%BA-3"><span class="toc-nav-number">1.6.1.8.</span> <span class="toc-nav-text">提示</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84%E7%82%B9-4"><span class="toc-nav-number">1.6.2.</span> <span class="toc-nav-text">值得注意的点</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#Part-6-%E5%90%8E%E8%AE%B0"><span class="toc-nav-number">1.7.</span> <span class="toc-nav-text">Part 6 后记</span></a></li></ol></li></ol>
            
          
          </div>
        </aside>
      
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#BUAA-OO" title="BUAA-OO">BUAA-OO</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="https://thysrael.github.io/" target="_blank">Thysrael</a></li>
                    
                        <li><a href="https://wxx0105.cn/" target="_blank">贤弟安全</a></li>
                    
                        <li><a href="https://iszry.github.io" target="_blank">Matcha Flavor</a></li>
                    
                        <li><a href="https://master-tan.github.io/" target="_blank">Tan&#39;s Blog</a></li>
                    
                        <li><a href="https://mksasx.github.io/" target="_blank">AustinMa</a></li>
                    
                        <li><a href="https://bluebean-cloud.github.io/" target="_blank">Bluebean</a></li>
                    
                        <li><a href="https://chlience.cn/" target="_blank">Chlience</a></li>
                    
                        <li><a href="https://sunnyduan-oss.github.io/" target="_blank">甜胖妮</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>


<style  type="text/css">
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">

                
                    <li>
                        <a target="_blank"  href="https://github.com/saltyfishyjk">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                

                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/gu-long-mo-yu">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; saltyfishyjk 2025 
                    <br>
                    Powered by 
                    <a href="https://github.com/saltyfishyjk/saltyfishyjk.github.io">
                        <i>saltyfishyjk</i>
                    </a> | 
                    <iframe name="star" style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0"
                        width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=saltyfishyjk&repo=saltyfishyjk.github.io&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>

</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/hux-blog.min.js"></script>


<!-- Search -->

<script src="/js/search.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://saltyfishyjk.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->


<!-- Search -->

    <script type="text/javascript">      
        var search_path = "search.xml";
        if (search_path.length == 0) {
            search_path = "search.xml";
        }
    var path = "/" + search_path;
    searchFunc(path, 'local-search-input', 'local-search-result');
    </script>


<!-- busuanzi -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>

    
        <!-- background effects line -->
        

        
            <script type="text/javascript" src="/js/mouse-click.js" content='[&#34;🐟&#34;]' color='[&#34;rgb(121,93,179)&#34; ,&#34;rgb(76,180,231)&#34;]'></script>
        

        <!-- background effects end -->
    

    <!--<script size="50" alpha='0.3' zIndex="-999" src="/js/ribbonStatic.js"></script>-->
    
        <script src="/js/ribbonDynamic.js"></script>
    
</body>

</html>
